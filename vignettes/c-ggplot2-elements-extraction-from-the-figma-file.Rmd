---
title: "c - {ggplot2} elements extraction from the Figma file"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{c - {ggplot2} elements extraction from the Figma file}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(swatch)
```

<!-- WARNING - This vignette is generated by {fusen} from /dev/flat_figma_design_extraction.Rmd: do not edit by hand -->

<!--
 You need to run the 'description' chunk in the '0-dev_history.Rmd' file before continuing your code there.
-->


# Transformation of the raw Figma content to a tibble with only the design description of the main components: `raw_to_design_tibble()`

This function is used to arrange the raw data (list) to a digest tibble. Only the information about main components is keept. Only the items corresponding to a design characteristic is kept (color, style, opacity, etc.).


```{r examples-raw_to_design_tibble}
data(toy_raw_file_content)
raw_to_design_tibble(toy_raw_file_content)
```

# Addition of the type of the {ggplot2} elements (i.e. `rect`, `line` or `text`)

- A correspondence table is available in the package:

```{r echo = FALSE}
corresp_element_type <- readr::read_rds(
  system.file("corresp_element_type.rds",
              package = "swatch"))
corresp_element_type %>% 
  head() %>% 
  knitr::kable()
```

```{r examples-add_ggplot_type}
data(toy_raw_file_content)
data_design <- toy_raw_file_content %>% 
  raw_to_design_tibble()
data_design %>% 
  add_ggplot_type()
```

# Extraction of the {ggplot2} design content of a file: `get_ggplot_element_design()` function

```{r examples-get_ggplot_element_design}
# file_content <- get_file_content(file_key = "wRqIvMmymzSPuj0sEhnORb",
#                                  acess_token = Sys.getenv("FIGMA_TOKEN"))
# 
# get_ggplot_element_design(ggplot_element = "panel_background",
#                           file_content = file_content)
# 
# get_ggplot_element_design(ggplot_element = "panel_grid",
#                           file_content = file_content)
```

